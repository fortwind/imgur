var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function s(t){return"function"==typeof t}function c(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function r(t,n,e,o){return t[1]&&o?function(t,n){for(const e in n)t[e]=n[e];return t}(e.ctx.slice(),t[1](o(n))):e.ctx}function i(t,n){t.appendChild(n)}function l(t,n,e){t.insertBefore(n,e||null)}function a(t){t.parentNode.removeChild(t)}function u(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function f(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function p(){return d(" ")}function h(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function m(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function g(t,n,e,o){t.style.setProperty(n,e,o?"important":"")}let $;function v(t){$=t}function x(){if(!$)throw new Error("Function called outside component initialization");return $}function y(t){x().$$.on_mount.push(t)}function w(){const t=x();return(n,e)=>{const o=t.$$.callbacks[n];if(o){const s=function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);o.slice().forEach(n=>{n.call(t,s)})}}}const b=[],_=[],C=[],E=[],k=Promise.resolve();let T=!1;function B(){T||(T=!0,k.then(z))}function M(t){C.push(t)}const j=new Set;function z(){do{for(;b.length;){const t=b.shift();v(t),L(t.$$)}for(;_.length;)_.pop()();for(let t=0;t<C.length;t+=1){const n=C[t];j.has(n)||(j.add(n),n())}C.length=0}while(b.length);for(;E.length;)E.pop()();T=!1,j.clear()}function L(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(M)}}const A=new Set;let H;function O(t,n){t&&t.i&&(A.delete(t),t.i(n))}function N(t,n,e,o){if(t&&t.o){if(A.has(t))return;A.add(t),H.c.push(()=>{A.delete(t),o&&(e&&t.d(1),o())}),t.o(n)}}function R(t){t&&t.c()}function S(t,e,c){const{fragment:r,on_mount:i,on_destroy:l,after_update:a}=t.$$;r&&r.m(e,c),M(()=>{const e=i.map(n).filter(s);l?l.push(...e):o(e),t.$$.on_mount=[]}),a.forEach(M)}function D(t,n){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function F(n,s,c,r,i,l,a=[-1]){const u=$;v(n);const f=s.props||{},d=n.$$={fragment:null,ctx:null,props:l,update:t,not_equal:i,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:e(),dirty:a};let p=!1;d.ctx=c?c(n,f,(t,e,...o)=>{const s=o.length?o[0]:e;return d.ctx&&i(d.ctx[t],d.ctx[t]=s)&&(d.bound[t]&&d.bound[t](s),p&&function(t,n){-1===t.$$.dirty[0]&&(b.push(t),B(),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}(n,t)),e}):[],d.update(),p=!0,o(d.before_update),d.fragment=!!r&&r(d.ctx),s.target&&(s.hydrate?d.fragment&&d.fragment.l(function(t){return Array.from(t.childNodes)}(s.target)):d.fragment&&d.fragment.c(),s.intro&&O(n.$$.fragment),S(n,s.target,s.anchor),z()),v(u)}class P{$destroy(){D(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}function q(t,n,e){const o=t.slice();return o[4]=n[e],o}function X(t){let n,e,o;return{c(){n=f("img"),g(n,"transform","translate(0,"+-t[0]*t[4]/(t[1].length-1)+"px)"),n.src!==(e="https://gitee.com/fortwind/images/raw/master/info/bg/parallax"+t[4]+".png")&&m(n,"src",e),m(n,"alt",o="parallax layer "+t[4]),m(n,"class","svelte-13mntrs")},m(t,e){l(t,n,e)},p(t,e){1&e&&g(n,"transform","translate(0,"+-t[0]*t[4]/(t[1].length-1)+"px)")},d(t){t&&a(n)}}}function Y(t){let n,e,o,s,c,h,$,v,x=[0,1,2,3,4,5,6,7,8],y=[];for(let n=0;n<9;n+=1)y[n]=X(q(t,x,n));const w=t[3].default,b=function(t,n,e,o){if(t){const s=r(t,n,e,o);return t[0](s)}}(w,t,t[2],null);return{c(){n=f("div");for(let t=0;t<9;t+=1)y[t].c();e=p(),o=f("div"),s=f("span"),c=d("fortwind"),h=p(),$=f("div"),b&&b.c(),m(n,"class","parallax-container svelte-13mntrs"),g(s,"opacity",1-Math.min(t[0],40)/40),m(s,"class","svelte-13mntrs"),m($,"class","foreground svelte-13mntrs"),m(o,"class","content svelte-13mntrs")},m(t,r){l(t,n,r);for(let t=0;t<9;t+=1)y[t].m(n,null);l(t,e,r),l(t,o,r),i(o,s),i(s,c),i(o,h),i(o,$),b&&b.m($,null),v=!0},p(t,[e]){if(3&e){let o;for(x=[0,1,2,3,4,5,6,7,8],o=0;o<9;o+=1){const s=q(t,x,o);y[o]?y[o].p(s,e):(y[o]=X(s),y[o].c(),y[o].m(n,null))}for(;o<9;o+=1)y[o].d(1)}(!v||1&e)&&g(s,"opacity",1-Math.min(t[0],40)/40),b&&b.p&&4&e&&b.p(r(w,t,t[2],null),function(t,n,e,o){if(t[2]&&o){const s=t[2](o(e));if("object"==typeof n.dirty){const t=[],e=Math.max(n.dirty.length,s.length);for(let o=0;o<e;o+=1)t[o]=n.dirty[o]|s[o];return t}return n.dirty|s}return n.dirty}(w,t[2],e,null))},i(t){v||(O(b,t),v=!0)},o(t){N(b,t),v=!1},d(t){t&&a(n),u(y,t),t&&a(e),t&&a(o),b&&b.d(t)}}}function G(t,n,e){let{y:o}=n,{$$slots:s={},$$scope:c}=n;return t.$set=t=>{"y"in t&&e(0,o=t.y),"$$scope"in t&&e(2,c=t.$$scope)},[o,[0,1,2,3,4,5,6,7,8],c,s]}class I extends P{constructor(t){super(),F(this,t,G,Y,c,{y:0})}}function J(n){let e,o,s,c,r,u,g,$,v;return{c(){e=f("div"),o=f("div"),s=f("div"),c=f("img"),u=p(),g=f("div"),$=d(n[1]),m(c,"class",r="img"+K+" svelte-dnx0pm"),m(c,"data-src",n[0]),m(c,"alt","img"),m(g,"class","name svelte-dnx0pm"),m(s,"class","img-container svelte-dnx0pm"),m(o,"class","image svelte-dnx0pm"),m(e,"class","image-container svelte-dnx0pm")},m(t,r){l(t,e,r),i(e,o),i(o,s),i(s,c),n[6](c),i(s,u),i(s,g),i(g,$),v=h(o,"click",n[3])},p(t,[n]){1&n&&m(c,"data-src",t[0]),2&n&&function(t,n){n=""+n,t.data!==n&&(t.data=n)}($,t[1])},i:t,o:t,d(t){t&&a(e),n[6](null),v()}}}const K="";function Q(t,n,e){let o,{src:s}=n,{name:c}=n,{node:r}=n;const i=w();return y(()=>{e(4,r=o)}),t.$set=t=>{"src"in t&&e(0,s=t.src),"name"in t&&e(1,c=t.name),"node"in t&&e(4,r=t.node)},[s,c,o,function(){i("getBig",s)},r,i,function(t){_[t?"unshift":"push"](()=>{e(2,o=t)})}]}class U extends P{constructor(t){super(),F(this,t,Q,J,c,{src:0,name:1,node:4})}}function V(n){let e,s,c,r,u,$,v,x,y,w,b,_,C;return{c(){e=f("div"),s=f("div"),c=p(),r=f("div"),u=f("img"),$=p(),v=f("span"),x=d("Loading..."),y=p(),w=f("div"),b=f("button"),m(s,"class","fancy-mask svelte-pfuuos"),m(u,"alt",""),m(u,"class","fancy-img"),g(u,"display",n[1].loading?"none":""),g(u,"height",n[1].h+"px"),g(u,"width",n[1].w+"px"),g(v,"display",n[1].loading?"":"none"),m(r,"class","fancy-imgbox svelte-pfuuos"),m(b,"class","button closebtn svelte-pfuuos"),m(w,"class","fancy-close svelte-pfuuos"),m(e,"class",_="fancy"+n[4]+" svelte-pfuuos"),g(e,"visibility",n[3]?"visible":"hidden")},m(t,o){l(t,e,o),i(e,s),i(e,c),i(e,r),i(r,u),n[9](u),i(r,$),i(r,v),i(v,x),i(e,y),i(e,w),i(w,b),n[11](e),C=[h(s,"click",n[8]),h(u,"mousewhell",W),h(b,"click",n[10])]},p(t,[n]){2&n&&g(u,"display",t[1].loading?"none":""),2&n&&g(u,"height",t[1].h+"px"),2&n&&g(u,"width",t[1].w+"px"),2&n&&g(v,"display",t[1].loading?"":"none"),16&n&&_!==(_="fancy"+t[4]+" svelte-pfuuos")&&m(e,"class",_),8&n&&g(e,"visibility",t[3]?"visible":"hidden")},i:t,o:t,d(t){t&&a(e),n[9](null),n[11](null),o(C)}}}function W(){console.log(999)}function Z(t,n,e){let o,{show:s}=n,{src:c}=n,r={loading:!1,w:"",h:""},i=!1,l="";function a(t,n){const{img:s}=r;if(t){e(3,i=t),s.src=n,e(4,l=" animatein"),e(1,r.loading=!0,r);const{width:c,height:a}=o.getBoundingClientRect();s.onload=()=>{e(1,r.loading=!1,r);const t=s.width,n=s.height,o=.7*c,i=.7*a,l=o/t,u=i/n;u>l?(e(1,r.w=o,r),e(1,r.h=n*l,r)):(e(1,r.w=t*u,r),e(1,r.h=i,r))}}else u()}function u(){e(4,l=""),setTimeout(()=>{e(3,i=!1)},500)}return t.$set=t=>{"show"in t&&e(0,s=t.show),"src"in t&&e(5,c=t.src)},t.$$.update=()=>{33&t.$$.dirty&&a(s,c)},[s,r,o,i,l,c,a,u,()=>{e(0,s=!1)},function(t){_[t?"unshift":"push"](()=>{r.img=t,e(1,r)})},()=>{e(0,s=!1)},function(t){_[t?"unshift":"push"](()=>{e(2,o=t)})}]}class tt extends P{constructor(t){super(),F(this,t,Z,V,c,{show:0,src:5})}}function nt(t,n,e){const o=t.slice();return o[10]=n[e].path,o[11]=n[e].name,o[12]=n[e].target,o[13]=n,o[14]=e,o}function et(t){let n,e;function o(n){t[8].call(null,n,t[12])}let s={src:`https://gitee.com/${st}/${ct}/raw/${rt}/${t[10]}`,name:t[11]};void 0!==t[12].node&&(s.node=t[12].node);const c=new U({props:s});return _.push(()=>function(t,n,e){const o=t.$$.props[n];void 0!==o&&(t.$$.bound[o]=e,e(t.$$.ctx[o]))}(c,"node",o)),c.$on("getBig",(function(...n){return t[9](t[14],...n)})),{c(){R(c.$$.fragment)},m(t,n){S(c,t,n),e=!0},p(e,o){t=e;const s={};var r;1&o&&(s.src=`https://gitee.com/${st}/${ct}/raw/${rt}/${t[10]}`),1&o&&(s.name=t[11]),!n&&1&o&&(n=!0,s.node=t[12].node,r=()=>n=!1,E.push(r)),c.$set(s)},i(t){e||(O(c.$$.fragment,t),e=!0)},o(t){N(c.$$.fragment,t),e=!1},d(t){D(c,t)}}}function ot(t){let n,e,s,c=t[0],r=[];for(let n=0;n<c.length;n+=1)r[n]=et(nt(t,c,n));const d=t=>N(r[t],1,1,()=>{r[t]=null});return{c(){n=f("div"),e=f("div");for(let t=0;t<r.length;t+=1)r[t].c();m(e,"class","images svelte-9813fh"),m(n,"class","imgur svelte-9813fh")},m(t,o){l(t,n,o),i(n,e);for(let t=0;t<r.length;t+=1)r[t].m(e,null);s=!0},p(t,[n]){if(3&n){let s;for(c=t[0],s=0;s<c.length;s+=1){const o=nt(t,c,s);r[s]?(r[s].p(o,n),O(r[s],1)):(r[s]=et(o),r[s].c(),O(r[s],1),r[s].m(e,null))}for(H={r:0,c:[],p:H},s=c.length;s<r.length;s+=1)d(s);H.r||o(H.c),H=H.p}},i(t){if(!s){for(let t=0;t<c.length;t+=1)O(r[t]);s=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)N(r[t]);s=!1},d(t){t&&a(n),u(r,t)}}}const st="fortwind",ct="images",rt="master";function it(t,n,e){let o,{scrolly:s}=n,c=[],r=[];const i=()=>fetch(`https://gitee.com/api/v5/repos/${st}/${ct}/git/trees/${rt}?recursive=1`).then(t=>t.json()).catch(t=>t);function l(t){const n=["jpg","png","jpeg"],o=/^info\/(\w+\/)*(\w+\.\w+)$/;r=e(0,c=t.map(t=>{const e=o.exec(t.path),s=e?e[2].split("."):[!1];if(s[0]&&n.includes(s[1].toLowerCase()))return t.name=e[2],t.target={node:void 0,load:!1,lazy:!0},t}).filter(t=>t))}function a(t){if(r.length<1||!r[0])return!1;let n=[];r.map(e=>{const{load:o,node:s,top:c,lazy:r}=e.target;if(o)return!1;const i=()=>{s.src=s.getAttribute("data-src"),s.classList.add("load"),e.target.load=!0};r?t+660>c?i():n.push(e):i()}),r=n}function u(t,n){o.$set({show:!0,src:n.detail})}y(async()=>{const t=await i();t&&t.tree&&l(t.tree),await(B(),k),o=((t={show:!1})=>new tt({target:document.body,props:t}))();const{scrollTop:n}=document.documentElement;c.map(({target:t})=>{t.top=t.node.getBoundingClientRect().top+n})});return t.$set=t=>{"scrolly"in t&&e(2,s=t.scrolly)},t.$$.update=()=>{4&t.$$.dirty&&a(s)},[c,u,s,o,r,i,l,a,function(t,n){n.node=t,e(0,c)},(t,n)=>u(0,n)]}class lt extends P{constructor(t){super(),F(this,t,it,ot,c,{scrolly:2})}}function at(n){let e,o,s,c;return{c(){e=f("div"),o=f("header"),s=f("nav"),s.innerHTML='<a href="http://fortwind.gitee.io/blog/" class="home svelte-hx2xa6">Fortwind</a> \n      <ul class="ul svelte-hx2xa6"><li class="li menu svelte-hx2xa6">Menu</li> \n        <li class="li minscreen svelte-hx2xa6"><a href="https://gitee.com/fortwind/imgur" class="svelte-hx2xa6"><svg t="1582197687311" class="icon svelte-hx2xa6" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="955" width="20" height="20"><path d="M512 1024C229.2224 1024 0 794.7776 0 512S229.2224 0 512 0s512 229.2224 512 512-229.2224 512-512 512z m259.1488-568.8832H480.4096a25.2928 25.2928 0 0 0-25.2928 25.2928l-0.0256 63.2064c0 13.952 11.3152 25.2928 25.2672 25.2928h177.024c13.9776 0 25.2928 11.3152 25.2928 25.2672v12.6464a75.8528 75.8528 0 0 1-75.8528 75.8528H366.592a25.2928 25.2928 0 0 1-25.2672-25.2928v-240.1792a75.8528 75.8528 0 0 1 75.8272-75.8528h353.9456a25.2928 25.2928 0 0 0 25.2672-25.2928l0.0768-63.2064a25.2928 25.2928 0 0 0-25.2672-25.2928H417.152a189.6192 189.6192 0 0 0-189.6192 189.6448v353.9456c0 13.9776 11.3152 25.2928 25.2928 25.2928h372.9408a170.6496 170.6496 0 0 0 170.6496-170.6496v-145.408a25.2928 25.2928 0 0 0-25.2928-25.2672z" fill="#C71D23" p-id="956"></path></svg> \n            <span class="svelte-hx2xa6">项目地址1</span></a></li> \n        <li class="li minscreen svelte-hx2xa6"><a href="https://github.com/fortwind/imgur" class="svelte-hx2xa6"><svg t="1582199407161" class="icon svelte-hx2xa6" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2015" width="20" height="20"><path d="M511.966 0C229.239 0 0 229.239 0 512.034 0 738.236 146.705 930.133 350.174 997.82c25.6 4.71 34.918-11.094 34.918-24.679 0-12.151-0.409-44.339-0.682-87.074-142.405 30.959-172.476-68.642-172.476-68.642-23.279-59.119-56.832-74.888-56.832-74.888-46.49-31.744 3.516-31.13 3.516-31.13 51.37 3.618 78.438 52.77 78.438 52.77 45.67 78.268 119.808 55.672 148.992 42.564 4.642-33.109 17.886-55.671 32.495-68.471-113.698-12.903-233.199-56.832-233.199-253.031 0-55.91 19.934-101.614 52.702-137.386-5.291-12.971-22.835-65.024 5.017-135.51 0 0 42.974-13.755 140.8 52.498a490.07 490.07 0 0 1 128.171-17.238 490.836 490.836 0 0 1 128.171 17.238c97.758-66.253 140.663-52.498 140.663-52.498 27.921 70.486 10.343 122.539 5.086 135.51 32.836 35.772 52.634 81.476 52.634 137.386 0 196.677-119.706 239.958-233.779 252.655 18.397 15.804 34.781 47.036 34.781 94.789 0 68.471-0.648 123.699-0.648 140.458 0 13.688 9.25 29.628 35.225 24.645C877.431 929.929 1024 738.167 1024 512.034 1024 229.239 794.726 0 511.966 0" fill="#C71D23" p-id="2016"></path></svg> \n            <span class="svelte-hx2xa6">项目地址2</span></a></li></ul>',m(s,"class","nav svelte-hx2xa6"),m(o,"class",c="header"+(n[0]>n[2]?" sticky":"")+" svelte-hx2xa6"),m(e,"class","header-container svelte-hx2xa6")},m(t,c){l(t,e,c),i(e,o),i(o,s),n[3](e)},p(t,[n]){5&n&&c!==(c="header"+(t[0]>t[2]?" sticky":"")+" svelte-hx2xa6")&&m(o,"class",c)},i:t,o:t,d(t){t&&a(e),n[3](null)}}}function ut(t,n,e){let o,s,{scrolly:c}=n;return y(()=>{const{top:t}=o.getBoundingClientRect(),{scrollTop:n}=document.documentElement;e(2,s=t+n)}),t.$set=t=>{"scrolly"in t&&e(0,c=t.scrolly)},[c,o,s,function(t){_[t?"unshift":"push"](()=>{e(1,o=t)})}]}class ft extends P{constructor(t){super(),F(this,t,ut,at,c,{scrolly:0})}}function dt(t){let n,e;const o=new ft({props:{scrolly:t[0]}}),s=new lt({props:{scrolly:t[0]}});return{c(){R(o.$$.fragment),n=p(),R(s.$$.fragment)},m(t,c){S(o,t,c),l(t,n,c),S(s,t,c),e=!0},p(t,n){const e={};1&n&&(e.scrolly=t[0]),o.$set(e);const c={};1&n&&(c.scrolly=t[0]),s.$set(c)},i(t){e||(O(o.$$.fragment,t),O(s.$$.fragment,t),e=!0)},o(t){N(o.$$.fragment,t),N(s.$$.fragment,t),e=!1},d(t){D(o,t),t&&a(n),D(s,t)}}}function pt(t){let n,e,o,s,c=!1,r=()=>{c=!1};M(t[1]);const i=new I({props:{y:t[0],$$slots:{default:[dt]},$$scope:{ctx:t}}});return{c(){e=f("div"),R(i.$$.fragment),m(e,"id","app"),m(e,"class","svelte-ckhc3z")},m(a,u){l(a,e,u),S(i,e,null),o=!0,s=h(window,"scroll",()=>{c=!0,clearTimeout(n),n=setTimeout(r,100),t[1]()})},p(t,[e]){1&e&&!c&&(c=!0,clearTimeout(n),scrollTo(window.pageXOffset,t[0]),n=setTimeout(r,100));const o={};1&e&&(o.y=t[0]),5&e&&(o.$$scope={dirty:e,ctx:t}),i.$set(o)},i(t){o||(O(i.$$.fragment,t),o=!0)},o(t){N(i.$$.fragment,t),o=!1},d(t){t&&a(e),D(i),s()}}}function ht(t,n,e){let o=0;return[o,function(){e(0,o=window.pageYOffset)}]}return new class extends P{constructor(t){super(),F(this,t,ht,pt,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
