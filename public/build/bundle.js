var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function s(t){t.forEach(n)}function o(t){return"function"==typeof t}function c(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function r(t,n,e,s){return t[1]&&s?function(t,n){for(const e in n)t[e]=n[e];return t}(e.ctx.slice(),t[1](s(n))):e.ctx}function i(t,n){t.appendChild(n)}function l(t,n,e){t.insertBefore(n,e||null)}function a(t){t.parentNode.removeChild(t)}function u(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function f(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function p(){return d(" ")}function m(t,n,e,s){return t.addEventListener(n,e,s),()=>t.removeEventListener(n,e,s)}function h(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function g(t,n,e,s){t.style.setProperty(n,e,s?"important":"")}let $;function v(t){$=t}function y(){if(!$)throw new Error("Function called outside component initialization");return $}function w(t){y().$$.on_mount.push(t)}function x(){const t=y();return(n,e)=>{const s=t.$$.callbacks[n];if(s){const o=function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);s.slice().forEach(n=>{n.call(t,o)})}}}const b=[],z=[],_=[],C=[],E=Promise.resolve();let k=!1;function T(){k||(k=!0,E.then(j))}function B(t){_.push(t)}const M=new Set;function j(){do{for(;b.length;){const t=b.shift();v(t),L(t.$$)}for(;z.length;)z.pop()();for(let t=0;t<_.length;t+=1){const n=_[t];M.has(n)||(M.add(n),n())}_.length=0}while(b.length);for(;C.length;)C.pop()();k=!1,M.clear()}function L(t){if(null!==t.fragment){t.update(),s(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(B)}}const A=new Set;let H;function O(t,n){t&&t.i&&(A.delete(t),t.i(n))}function N(t,n,e,s){if(t&&t.o){if(A.has(t))return;A.add(t),H.c.push(()=>{A.delete(t),s&&(e&&t.d(1),s())}),t.o(n)}}function R(t){t&&t.c()}function S(t,e,c){const{fragment:r,on_mount:i,on_destroy:l,after_update:a}=t.$$;r&&r.m(e,c),B(()=>{const e=i.map(n).filter(o);l?l.push(...e):s(e),t.$$.on_mount=[]}),a.forEach(B)}function D(t,n){const e=t.$$;null!==e.fragment&&(s(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function F(n,o,c,r,i,l,a=[-1]){const u=$;v(n);const f=o.props||{},d=n.$$={fragment:null,ctx:null,props:l,update:t,not_equal:i,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:e(),dirty:a};let p=!1;d.ctx=c?c(n,f,(t,e,...s)=>{const o=s.length?s[0]:e;return d.ctx&&i(d.ctx[t],d.ctx[t]=o)&&(d.bound[t]&&d.bound[t](o),p&&function(t,n){-1===t.$$.dirty[0]&&(b.push(t),T(),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}(n,t)),e}):[],d.update(),p=!0,s(d.before_update),d.fragment=!!r&&r(d.ctx),o.target&&(o.hydrate?d.fragment&&d.fragment.l(function(t){return Array.from(t.childNodes)}(o.target)):d.fragment&&d.fragment.c(),o.intro&&O(n.$$.fragment),S(n,o.target,o.anchor),j()),v(u)}class P{$destroy(){D(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}function q(t,n,e){const s=t.slice();return s[4]=n[e],s}function X(t){let n,e,s;return{c(){n=f("img"),g(n,"transform","translate(0,"+-t[0]*t[4]/(t[1].length-1)+"px)"),n.src!==(e="https://gitee.com/fortwind/images/raw/master/info/bg/parallax"+t[4]+".png")&&h(n,"src",e),h(n,"alt",s="parallax layer "+t[4]),h(n,"class","svelte-13mntrs")},m(t,e){l(t,n,e)},p(t,e){1&e&&g(n,"transform","translate(0,"+-t[0]*t[4]/(t[1].length-1)+"px)")},d(t){t&&a(n)}}}function Y(t){let n,e,s,o,c,m,$,v,y=[0,1,2,3,4,5,6,7,8],w=[];for(let n=0;n<9;n+=1)w[n]=X(q(t,y,n));const x=t[3].default,b=function(t,n,e,s){if(t){const o=r(t,n,e,s);return t[0](o)}}(x,t,t[2],null);return{c(){n=f("div");for(let t=0;t<9;t+=1)w[t].c();e=p(),s=f("div"),o=f("span"),c=d("fortwind"),m=p(),$=f("div"),b&&b.c(),h(n,"class","parallax-container svelte-13mntrs"),g(o,"opacity",1-Math.min(t[0],40)/40),h(o,"class","svelte-13mntrs"),h($,"class","foreground svelte-13mntrs"),h(s,"class","content svelte-13mntrs")},m(t,r){l(t,n,r);for(let t=0;t<9;t+=1)w[t].m(n,null);l(t,e,r),l(t,s,r),i(s,o),i(o,c),i(s,m),i(s,$),b&&b.m($,null),v=!0},p(t,[e]){if(3&e){let s;for(y=[0,1,2,3,4,5,6,7,8],s=0;s<9;s+=1){const o=q(t,y,s);w[s]?w[s].p(o,e):(w[s]=X(o),w[s].c(),w[s].m(n,null))}for(;s<9;s+=1)w[s].d(1)}(!v||1&e)&&g(o,"opacity",1-Math.min(t[0],40)/40),b&&b.p&&4&e&&b.p(r(x,t,t[2],null),function(t,n,e,s){if(t[2]&&s){const o=t[2](s(e));if("object"==typeof n.dirty){const t=[],e=Math.max(n.dirty.length,o.length);for(let s=0;s<e;s+=1)t[s]=n.dirty[s]|o[s];return t}return n.dirty|o}return n.dirty}(x,t[2],e,null))},i(t){v||(O(b,t),v=!0)},o(t){N(b,t),v=!1},d(t){t&&a(n),u(w,t),t&&a(e),t&&a(s),b&&b.d(t)}}}function G(t,n,e){let{y:s}=n,{$$slots:o={},$$scope:c}=n;return t.$set=t=>{"y"in t&&e(0,s=t.y),"$$scope"in t&&e(2,c=t.$$scope)},[s,[0,1,2,3,4,5,6,7,8],c,o]}class I extends P{constructor(t){super(),F(this,t,G,Y,c,{y:0})}}function J(n){let e,s,o,c,r,u,g,$,v;return{c(){e=f("div"),s=f("div"),o=f("div"),c=f("img"),u=p(),g=f("div"),$=d(n[1]),h(c,"class",r="img"+K+" svelte-dnx0pm"),h(c,"data-src",n[0]),h(c,"alt","img"),h(g,"class","name svelte-dnx0pm"),h(o,"class","img-container svelte-dnx0pm"),h(s,"class","image svelte-dnx0pm"),h(e,"class","image-container svelte-dnx0pm")},m(t,r){l(t,e,r),i(e,s),i(s,o),i(o,c),n[6](c),i(o,u),i(o,g),i(g,$),v=m(s,"click",n[3])},p(t,[n]){1&n&&h(c,"data-src",t[0]),2&n&&function(t,n){n=""+n,t.data!==n&&(t.data=n)}($,t[1])},i:t,o:t,d(t){t&&a(e),n[6](null),v()}}}const K="";function Q(t,n,e){let s,{src:o}=n,{name:c}=n,{node:r}=n;const i=x();return w(()=>{e(4,r=s)}),t.$set=t=>{"src"in t&&e(0,o=t.src),"name"in t&&e(1,c=t.name),"node"in t&&e(4,r=t.node)},[o,c,s,function(){i("getBig",o)},r,i,function(t){z[t?"unshift":"push"](()=>{e(2,s=t)})}]}class U extends P{constructor(t){super(),F(this,t,Q,J,c,{src:0,name:1,node:4})}}function V(n){let e,o,c,r,u,$,v,y,w,x,b,z,_;return{c(){e=f("div"),o=f("div"),c=p(),r=f("div"),u=f("img"),$=p(),v=f("span"),y=d("Loading..."),w=p(),x=f("div"),b=f("button"),h(o,"class","fancy-mask svelte-pfuuos"),h(u,"alt",""),h(u,"class","fancy-img"),g(u,"display",n[1].loading?"none":""),g(u,"height",n[1].h+"px"),g(u,"width",n[1].w+"px"),g(v,"display",n[1].loading?"":"none"),h(r,"class","fancy-imgbox svelte-pfuuos"),h(b,"class","button closebtn svelte-pfuuos"),h(x,"class","fancy-close svelte-pfuuos"),h(e,"class",z="fancy"+n[4]+" svelte-pfuuos"),g(e,"visibility",n[3]?"visible":"hidden")},m(t,s){l(t,e,s),i(e,o),i(e,c),i(e,r),i(r,u),n[9](u),i(r,$),i(r,v),i(v,y),i(e,w),i(e,x),i(x,b),n[11](e),_=[m(o,"click",n[8]),m(u,"mousewhell",W),m(b,"click",n[10])]},p(t,[n]){2&n&&g(u,"display",t[1].loading?"none":""),2&n&&g(u,"height",t[1].h+"px"),2&n&&g(u,"width",t[1].w+"px"),2&n&&g(v,"display",t[1].loading?"":"none"),16&n&&z!==(z="fancy"+t[4]+" svelte-pfuuos")&&h(e,"class",z),8&n&&g(e,"visibility",t[3]?"visible":"hidden")},i:t,o:t,d(t){t&&a(e),n[9](null),n[11](null),s(_)}}}function W(){console.log(999)}function Z(t,n,e){let s,{show:o}=n,{src:c}=n,r={loading:!1,w:"",h:""},i=!1,l="";function a(t,n){const{img:o}=r;if(t){e(3,i=t),o.src=n,e(4,l=" animatein"),e(1,r.loading=!0,r);const{width:c,height:a}=s.getBoundingClientRect();o.onload=()=>{e(1,r.loading=!1,r);const t=o.width,n=o.height,s=.7*c,i=.7*a,l=s/t,u=i/n;u>l?(e(1,r.w=s,r),e(1,r.h=n*l,r)):(e(1,r.w=t*u,r),e(1,r.h=i,r))}}else u()}function u(){e(4,l=""),setTimeout(()=>{e(3,i=!1)},500)}return t.$set=t=>{"show"in t&&e(0,o=t.show),"src"in t&&e(5,c=t.src)},t.$$.update=()=>{33&t.$$.dirty&&a(o,c)},[o,r,s,i,l,c,a,u,()=>{e(0,o=!1)},function(t){z[t?"unshift":"push"](()=>{r.img=t,e(1,r)})},()=>{e(0,o=!1)},function(t){z[t?"unshift":"push"](()=>{e(2,s=t)})}]}class tt extends P{constructor(t){super(),F(this,t,Z,V,c,{show:0,src:5})}}function nt(t,n,e){const s=t.slice();return s[10]=n[e].path,s[11]=n[e].name,s[12]=n[e].target,s[13]=n,s[14]=e,s}function et(t){let n,e;function s(n){t[8].call(null,n,t[12])}let o={src:`https://gitee.com/${ot}/${ct}/raw/${rt}/${t[10]}`,name:t[11]};void 0!==t[12].node&&(o.node=t[12].node);const c=new U({props:o});return z.push(()=>function(t,n,e){const s=t.$$.props[n];void 0!==s&&(t.$$.bound[s]=e,e(t.$$.ctx[s]))}(c,"node",s)),c.$on("getBig",(function(...n){return t[9](t[14],...n)})),{c(){R(c.$$.fragment)},m(t,n){S(c,t,n),e=!0},p(e,s){t=e;const o={};var r;1&s&&(o.src=`https://gitee.com/${ot}/${ct}/raw/${rt}/${t[10]}`),1&s&&(o.name=t[11]),!n&&1&s&&(n=!0,o.node=t[12].node,r=()=>n=!1,C.push(r)),c.$set(o)},i(t){e||(O(c.$$.fragment,t),e=!0)},o(t){N(c.$$.fragment,t),e=!1},d(t){D(c,t)}}}function st(t){let n,e,o,c=t[0],r=[];for(let n=0;n<c.length;n+=1)r[n]=et(nt(t,c,n));const d=t=>N(r[t],1,1,()=>{r[t]=null});return{c(){n=f("div"),e=f("div");for(let t=0;t<r.length;t+=1)r[t].c();h(e,"class","images svelte-9813fh"),h(n,"class","imgur svelte-9813fh")},m(t,s){l(t,n,s),i(n,e);for(let t=0;t<r.length;t+=1)r[t].m(e,null);o=!0},p(t,[n]){if(3&n){let o;for(c=t[0],o=0;o<c.length;o+=1){const s=nt(t,c,o);r[o]?(r[o].p(s,n),O(r[o],1)):(r[o]=et(s),r[o].c(),O(r[o],1),r[o].m(e,null))}for(H={r:0,c:[],p:H},o=c.length;o<r.length;o+=1)d(o);H.r||s(H.c),H=H.p}},i(t){if(!o){for(let t=0;t<c.length;t+=1)O(r[t]);o=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)N(r[t]);o=!1},d(t){t&&a(n),u(r,t)}}}const ot="fortwind",ct="images",rt="master";function it(t,n,e){let s,{scrolly:o}=n,c=[],r=[];const i=()=>fetch(`https://gitee.com/api/v5/repos/${ot}/${ct}/git/trees/${rt}?recursive=1`).then(t=>t.json()).catch(t=>t);function l(t){const n=["jpg","png","jpeg"],s=/^img\/(\w+\/)*(\w+\.\w+)$/;r=e(0,c=t.map(t=>{const e=s.exec(t.path),o=e?e[2].split("."):[!1];if(o[0]&&n.includes(o[1].toLowerCase()))return t.name=e[2],t.target={node:void 0,load:!1,lazy:!0},t}).filter(t=>t))}function a(t){if(r.length<1||!r[0])return!1;let n=[];r.map(e=>{const{load:s,node:o,top:c,lazy:r}=e.target;if(s)return!1;const i=()=>{o.src=o.getAttribute("data-src"),o.classList.add("load"),e.target.load=!0};r?t+660>c?i():n.push(e):i()}),r=n}function u(t,n){s.$set({show:!0,src:n.detail})}w(async()=>{const t=await i();t&&t.tree&&l(t.tree),await(T(),E),s=((t={show:!1})=>new tt({target:document.body,props:t}))();const{scrollTop:n}=document.documentElement;c.map(({target:t})=>{t.top=t.node.getBoundingClientRect().top+n})});return t.$set=t=>{"scrolly"in t&&e(2,o=t.scrolly)},t.$$.update=()=>{4&t.$$.dirty&&a(o)},[c,u,o,s,r,i,l,a,function(t,n){n.node=t,e(0,c)},(t,n)=>u(0,n)]}class lt extends P{constructor(t){super(),F(this,t,it,st,c,{scrolly:2})}}function at(n){let e,s,o,c;return{c(){e=f("div"),s=f("header"),o=f("nav"),o.innerHTML='<a href="http://fortwind.gitee.io/blog/" class="home svelte-1t8c0zv">Fortwind</a> \n      <ul class="ul svelte-1t8c0zv"><li class="li menu svelte-1t8c0zv">Menu</li> \n        <li class="li minscreen svelte-1t8c0zv"><a href="https://gitee.com/fortwind/imgur" class="svelte-1t8c0zv"><svg t="1582197687311" class="icon svelte-1t8c0zv" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="955" width="20" height="20"><path d="M512 1024C229.2224 1024 0 794.7776 0 512S229.2224 0 512 0s512 229.2224 512 512-229.2224 512-512 512z m259.1488-568.8832H480.4096a25.2928 25.2928 0 0 0-25.2928 25.2928l-0.0256 63.2064c0 13.952 11.3152 25.2928 25.2672 25.2928h177.024c13.9776 0 25.2928 11.3152 25.2928 25.2672v12.6464a75.8528 75.8528 0 0 1-75.8528 75.8528H366.592a25.2928 25.2928 0 0 1-25.2672-25.2928v-240.1792a75.8528 75.8528 0 0 1 75.8272-75.8528h353.9456a25.2928 25.2928 0 0 0 25.2672-25.2928l0.0768-63.2064a25.2928 25.2928 0 0 0-25.2672-25.2928H417.152a189.6192 189.6192 0 0 0-189.6192 189.6448v353.9456c0 13.9776 11.3152 25.2928 25.2928 25.2928h372.9408a170.6496 170.6496 0 0 0 170.6496-170.6496v-145.408a25.2928 25.2928 0 0 0-25.2928-25.2672z" fill="#C71D23" p-id="956"></path></svg> \n            <span class="svelte-1t8c0zv">项目地址1</span></a></li> \n        <li class="li minscreen svelte-1t8c0zv"><a href="https://github.com/fortwind/imgur" class="svelte-1t8c0zv"><svg t="1582199407161" class="icon svelte-1t8c0zv" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2015" width="20" height="20"><path d="M511.966 0C229.239 0 0 229.239 0 512.034 0 738.236 146.705 930.133 350.174 997.82c25.6 4.71 34.918-11.094 34.918-24.679 0-12.151-0.409-44.339-0.682-87.074-142.405 30.959-172.476-68.642-172.476-68.642-23.279-59.119-56.832-74.888-56.832-74.888-46.49-31.744 3.516-31.13 3.516-31.13 51.37 3.618 78.438 52.77 78.438 52.77 45.67 78.268 119.808 55.672 148.992 42.564 4.642-33.109 17.886-55.671 32.495-68.471-113.698-12.903-233.199-56.832-233.199-253.031 0-55.91 19.934-101.614 52.702-137.386-5.291-12.971-22.835-65.024 5.017-135.51 0 0 42.974-13.755 140.8 52.498a490.07 490.07 0 0 1 128.171-17.238 490.836 490.836 0 0 1 128.171 17.238c97.758-66.253 140.663-52.498 140.663-52.498 27.921 70.486 10.343 122.539 5.086 135.51 32.836 35.772 52.634 81.476 52.634 137.386 0 196.677-119.706 239.958-233.779 252.655 18.397 15.804 34.781 47.036 34.781 94.789 0 68.471-0.648 123.699-0.648 140.458 0 13.688 9.25 29.628 35.225 24.645C877.431 929.929 1024 738.167 1024 512.034 1024 229.239 794.726 0 511.966 0" fill="#C71D23" p-id="2016"></path></svg> \n            <span class="svelte-1t8c0zv">项目地址2</span></a></li></ul>',h(o,"class","nav svelte-1t8c0zv"),h(s,"class",c="header"+(n[0]>n[2]?" sticky":"")+" svelte-1t8c0zv"),h(e,"class","header-container svelte-1t8c0zv")},m(t,c){l(t,e,c),i(e,s),i(s,o),n[3](e)},p(t,[n]){5&n&&c!==(c="header"+(t[0]>t[2]?" sticky":"")+" svelte-1t8c0zv")&&h(s,"class",c)},i:t,o:t,d(t){t&&a(e),n[3](null)}}}function ut(t,n,e){let s,o,{scrolly:c}=n;return w(()=>{const{top:t}=s.getBoundingClientRect(),{scrollTop:n}=document.documentElement;e(2,o=t+n)}),t.$set=t=>{"scrolly"in t&&e(0,c=t.scrolly)},[c,s,o,function(t){z[t?"unshift":"push"](()=>{e(1,s=t)})}]}class ft extends P{constructor(t){super(),F(this,t,ut,at,c,{scrolly:0})}}function dt(t){let n,e;const s=new ft({props:{scrolly:t[0]}}),o=new lt({props:{scrolly:t[0]}});return{c(){R(s.$$.fragment),n=p(),R(o.$$.fragment)},m(t,c){S(s,t,c),l(t,n,c),S(o,t,c),e=!0},p(t,n){const e={};1&n&&(e.scrolly=t[0]),s.$set(e);const c={};1&n&&(c.scrolly=t[0]),o.$set(c)},i(t){e||(O(s.$$.fragment,t),O(o.$$.fragment,t),e=!0)},o(t){N(s.$$.fragment,t),N(o.$$.fragment,t),e=!1},d(t){D(s,t),t&&a(n),D(o,t)}}}function pt(t){let n,e,s,o,c=!1,r=()=>{c=!1};B(t[1]);const i=new I({props:{y:t[0],$$slots:{default:[dt]},$$scope:{ctx:t}}});return{c(){e=f("div"),R(i.$$.fragment),h(e,"id","app"),h(e,"class","svelte-ckhc3z")},m(a,u){l(a,e,u),S(i,e,null),s=!0,o=m(window,"scroll",()=>{c=!0,clearTimeout(n),n=setTimeout(r,100),t[1]()})},p(t,[e]){1&e&&!c&&(c=!0,clearTimeout(n),scrollTo(window.pageXOffset,t[0]),n=setTimeout(r,100));const s={};1&e&&(s.y=t[0]),5&e&&(s.$$scope={dirty:e,ctx:t}),i.$set(s)},i(t){s||(O(i.$$.fragment,t),s=!0)},o(t){N(i.$$.fragment,t),s=!1},d(t){t&&a(e),D(i),o()}}}function mt(t,n,e){let s=0;return[s,function(){e(0,s=window.pageYOffset)}]}return new class extends P{constructor(t){super(),F(this,t,mt,pt,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
